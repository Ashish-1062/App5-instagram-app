{"version":3,"sources":["components/Footer.jsx","components/Stories.jsx","components/Header.jsx","firebase.js","components/Post.jsx","components/ImgUpload.jsx","App.js","index.js"],"names":["Footer","className","Stories","Avatar","alt","src","style","backgroundColor","Header","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Post","postId","user","username","caption","imageUrl","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","text","type","placeholder","value","onChange","e","target","disabled","onClick","event","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","ImgUpload","image","setImage","progress","setProgress","setCaption","max","files","Button","ref","name","put","on","Math","round","bytesTransferred","totelBytes","error","console","log","alert","message","child","getDownloadURL","then","url","getModalStyle","top","left","transform","useStyles","makeStyles","theme","createStyles","paper","position","width","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","modalStyle","posts","setPosts","open","setOpen","openSignIn","setOpenSignIn","setUsername","email","setEmail","password","setPassword","setUser","onAuthStateChanged","authUser","id","post","signOut","Modal","onClose","Input","createUserWithEmailAndPassword","updateProfile","catch","signInWithEmailAndPassword","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8TAUeA,MARf,WACC,OACC,8BACC,wBAAQC,UAAU,kB,sBC8BNC,MA/Bf,WACC,OACC,sBAAKD,UAAU,eAAf,UACC,cAACE,EAAA,EAAD,CACCF,UAAU,cACVG,IAAI,YACJC,IAAI,8BACJC,MAAO,CAAEC,gBAAiB,eAE3B,cAACJ,EAAA,EAAD,CACCF,UAAU,cACVG,IAAI,UACJC,IAAI,8BACJC,MAAO,CAAEC,gBAAiB,WAE3B,cAACJ,EAAA,EAAD,CACCF,UAAU,cACVG,IAAI,OACJC,IAAI,8BACJC,MAAO,CAAEC,gBAAiB,SAE3B,cAACJ,EAAA,EAAD,CACCF,UAAU,cACVG,IAAI,MACJC,IAAI,8BACJC,MAAO,CAAEC,gBAAiB,eCZfC,MAbf,WACC,OACC,sBAAKP,UAAU,SAAf,UACC,qBACCA,UAAU,cACVI,IAAI,sEACJD,IAAI,KAEL,cAAC,EAAD,Q,gBCDGK,EAVcC,IAASC,cAAc,CAC1CC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGOC,YACjBC,EAAOV,IAASU,OAChBC,EAAUX,IAASW,UCsEVC,MA7Ef,YAA8D,IAA9CC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SAChD,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KA6BA,OA3BAC,qBAAU,WACT,IAAIC,EAWJ,OAVIX,IACHW,EAAczB,EACZ0B,WAAW,SACXC,IAAIb,GACJY,WAAW,YACXE,QAAQ,YAAa,QACrBC,YAAW,SAACC,GACZT,EAAYS,EAASC,KAAKC,KAAI,SAACL,GAAD,OAASA,EAAIM,eAGvC,WACNR,OAEC,CAACX,IAaH,sBAAKtB,UAAU,OAAf,UACC,sBAAKA,UAAU,cAAf,UACC,cAACE,EAAA,EAAD,CACCF,UAAU,cACVG,IAAI,YACJC,IAAI,gCAEL,6BAAKoB,OAEN,qBAAKxB,UAAU,WAAWI,IAAKsB,EAAUvB,IAAI,KAC7C,qBAAIH,UAAU,YAAd,UACC,mCAASwB,EAAT,OACCC,KAGF,8BACEG,EAASY,KAAI,SAACV,GAAD,OACb,8BACC,iCAASA,EAAQN,WADlB,KACuCM,EAAQY,aAIhDnB,GACA,uBAAMvB,UAAU,cAAhB,UACC,uBACCA,UAAU,aACV2C,KAAK,OACLC,YAAY,mBACZC,MAAOf,EACPgB,SAAU,SAACC,GAAD,OAAOhB,EAAWgB,EAAEC,OAAOH,UAEtC,wBACC7C,UAAU,WACViD,UAAWnB,EACXa,KAAK,SACLO,QA9Ce,SAACC,GACpBA,EAAMC,iBACN5C,EAAG0B,WAAW,SAASC,IAAIb,GAAQY,WAAW,YAAYmB,IAAI,CAC7DX,KAAMZ,EACNN,SAAUD,EAAK+B,YACfC,UAAW9C,IAASS,UAAUsC,WAAWC,oBAE1C1B,EAAW,KAmCR,yB,8CCHU2B,MA5Df,YAAkC,IAAblC,EAAY,EAAZA,SACpB,EAA0BG,mBAAS,MAAnC,mBAAOgC,EAAP,KAAcC,EAAd,KACA,EAAgCjC,mBAAS,GAAzC,mBAAOkC,EAAP,KAAiBC,EAAjB,KACA,EAA8BnC,mBAAS,IAAvC,mBAAOF,EAAP,KAAgBsC,EAAhB,KA2CA,OACC,sBAAK/D,UAAU,aAAf,UACC,0BAAUA,UAAU,qBAAqB6C,MAAOgB,EAAUG,IAAI,QAC9D,uBACChE,UAAU,aACV2C,KAAK,OACLC,YAAY,qBACZE,SAAU,SAACK,GAAD,OAAWY,EAAWZ,EAAMH,OAAOH,UAE9C,uBAAO7C,UAAU,MAAM2C,KAAK,OAAOG,SAlDhB,SAACC,GACjBA,EAAEC,OAAOiB,MAAM,IAClBL,EAASb,EAAEC,OAAOiB,MAAM,OAiDxB,cAACC,EAAA,EAAD,CAAQhB,QA7CW,WACD9B,EAAQ+C,IAAR,gBAAqBR,EAAMS,OAAQC,IAAIV,GAC/CW,GACV,iBACA,SAAChC,GACA,IAAMuB,EAAWU,KAAKC,MACpBlC,EAASmC,iBAAmBnC,EAASoC,WAAc,KAErDZ,EAAYD,MAEb,SAACc,GAEAC,QAAQC,IAAIF,GACZG,MAAMH,EAAMI,YAEb,WACC3D,EACE+C,IAAI,SACJa,MAAMrB,EAAMS,MACZa,iBACAC,MAAK,SAACC,GACN3E,EAAG0B,WAAW,SAASmB,IAAI,CAC1BE,UAAW9C,IAASS,UAAUsC,WAAWC,kBACzChC,QAASA,EACTC,SAAUyD,EACV3D,SAAUA,IAEXsC,EAAY,GACZC,EAAW,IACXH,EAAS,aAgBZ,wBCjDH,SAASwB,IAIR,MAAO,CACNC,IAAI,GAAD,OAJQ,GAIR,KACHC,KAAK,GAAD,OAJQ,GAIR,KACJC,UAAU,cAAD,OANE,GAMF,eALG,GAKH,OAIX,IAAMC,EAAYC,aAAW,SAACC,GAAD,OAC5BC,YAAa,CACZC,MAAO,CACNC,SAAU,WACVC,MAAO,IACPxF,gBAAiBoF,EAAMK,QAAQC,WAAWJ,MAC1CK,OAAQ,iBACRC,UAAWR,EAAMS,QAAQ,GACzBC,QAASV,EAAMW,QAAQ,EAAG,EAAG,SA8KjBC,MAzKf,WACC,IAAMC,EAAUf,IAChB,EAAqB7D,mBAASyD,GAAvBoB,EAAP,oBACA,EAA0B7E,mBAAS,IAAnC,mBAAO8E,EAAP,KAAcC,EAAd,KACA,EAAwB/E,oBAAS,GAAjC,mBAAOgF,EAAP,KAAaC,EAAb,KACA,EAAoCjF,oBAAS,GAA7C,mBAAOkF,EAAP,KAAmBC,EAAnB,KACA,EAAgCnF,mBAAS,IAAzC,mBAAOH,EAAP,KAAiBuF,EAAjB,KACA,EAA0BpF,mBAAS,IAAnC,mBAAOqF,EAAP,KAAcC,EAAd,KACA,EAAgCtF,mBAAS,IAAzC,mBAAOuF,EAAP,KAAiBC,EAAjB,KACA,EAAwBxF,mBAAS,MAAjC,mBAAOJ,EAAP,KAAa6F,EAAb,KAwDA,OAtDApF,qBAAU,WACT,IAAMC,EAAcd,EAAKkG,oBAAmB,SAACC,GACxCA,GACH1C,QAAQC,IAAIyC,GACZF,EAAQE,IAERF,EAAQ,SAGV,OAAO,WACNnF,OAEC,CAACV,EAAMC,IAIVQ,qBAAU,WAETxB,EAAG0B,WAAW,SAASG,YAAW,SAACC,GAElCoE,EACCpE,EAASC,KAAKC,KAAI,SAACL,GAAD,MAAU,CAC3BoF,GAAIpF,EAAIoF,GACRC,KAAMrF,EAAIM,iBAIX,IA4BF,sBAAKzC,UAAU,MAAf,UACC,cAAC,EAAD,IACA,qBAAKA,UAAU,aAAf,SACEuB,EACA,cAAC2C,EAAA,EAAD,CAAQhB,QAAS,kBAAM/B,EAAKsG,WAA5B,oBAEA,sBAAKzH,UAAU,eAAf,UACC,cAACkE,EAAA,EAAD,CAAQlE,UAAU,UAAUkD,QAAS,kBAAM4D,GAAc,IAAzD,qBAGA,cAAC5C,EAAA,EAAD,CAAQlE,UAAU,WAAWkD,QAAS,kBAAM0D,GAAQ,IAApD,2BAOE,OAAJrF,QAAI,IAAJA,OAAA,EAAAA,EAAM+B,aACN,cAAC,EAAD,CAAW9B,SAAUD,EAAK+B,cAE1B,mEAGD,cAACoE,EAAA,EAAD,CAAOf,KAAMA,EAAMgB,QAAS,kBAAMf,GAAQ,IAA1C,SACC,qBAAKvG,MAAOmG,EAAYxG,UAAWuG,EAAQX,MAA3C,SACC,uBAAM5F,UAAU,aAAhB,UACC,iCACC,qBACCA,UAAU,cACVI,IAAI,sEACJD,IAAI,OAIN,cAACyH,EAAA,EAAD,CACChF,YAAY,WACZD,KAAK,OACLE,MAAOrB,EACPsB,SAAU,SAACC,GAAD,OAAOgE,EAAYhE,EAAEC,OAAOH,UAEvC,cAAC+E,EAAA,EAAD,CACChF,YAAY,QACZD,KAAK,OACLE,MAAOmE,EACPlE,SAAU,SAACC,GAAD,OAAOkE,EAASlE,EAAEC,OAAOH,UAEpC,cAAC+E,EAAA,EAAD,CACChF,YAAY,WACZD,KAAK,WACLE,MAAOqE,EACPpE,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAEC,OAAOH,UAGvC,cAACqB,EAAA,EAAD,CAAQhB,QA/EE,SAACC,GACfA,EAAMC,iBAENjC,EACE0G,+BAA+Bb,EAAOE,GACtChC,MAAK,SAACoC,GACN,OAAOA,EAAS/F,KAAKuG,cAAc,CAClCxE,YAAa9B,OAGduG,OAAM,SAACpD,GAAD,OAAWG,MAAMH,EAAMI,YAE/B6B,GAAQ,IAmEJ,4BAKH,cAACc,EAAA,EAAD,CAAOf,KAAME,EAAYc,QAAS,kBAAMb,GAAc,IAAtD,SACC,qBAAKzG,MAAOmG,EAAYxG,UAAWuG,EAAQX,MAA3C,SACC,uBAAM5F,UAAU,aAAhB,UACC,iCACC,qBACCA,UAAU,cACVI,IAAI,sEACJD,IAAI,OAIN,cAACyH,EAAA,EAAD,CACChF,YAAY,QACZD,KAAK,OACLE,MAAOmE,EACPlE,SAAU,SAACC,GAAD,OAAOkE,EAASlE,EAAEC,OAAOH,UAEpC,cAAC+E,EAAA,EAAD,CACChF,YAAY,WACZD,KAAK,WACLE,MAAOqE,EACPpE,SAAU,SAACC,GAAD,OAAOoE,EAAYpE,EAAEC,OAAOH,UAGvC,cAACqB,EAAA,EAAD,CAAQhB,QA7FE,SAACC,GACfA,EAAMC,iBAENjC,EACE6G,2BAA2BhB,EAAOE,GAClCa,OAAM,SAACpD,GAAD,OAAWG,MAAMH,EAAMI,YAE/B+B,GAAc,IAsFV,4BAKFL,EAAMjE,KAAI,gBAAG+E,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAP,OACV,cAAC,EAAD,CAEClG,OAAQiG,EACRhG,KAAMA,EACNC,SAAUgG,EAAKhG,SACfC,QAAS+F,EAAK/F,QACdC,SAAU8F,EAAK9F,UALV6F,MASP,cAAC,EAAD,QCpMHU,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDC,SAASC,eAAe,W","file":"static/js/main.a74faf59.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<footer className=\"app-footer\"></footer>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport \"./Stories.css\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nfunction Stories() {\r\n\treturn (\r\n\t\t<div className=\"story-avatar\">\r\n\t\t\t<Avatar\r\n\t\t\t\tclassName=\"post-avatar\"\r\n\t\t\t\talt=\"Super-car\"\r\n\t\t\t\tsrc=\"/static/images/avatar/1.jpg\"\r\n\t\t\t\tstyle={{ backgroundColor: \"steelblue\" }}\r\n\t\t\t/>\r\n\t\t\t<Avatar\r\n\t\t\t\tclassName=\"post-avatar\"\r\n\t\t\t\talt=\"BUGGATI\"\r\n\t\t\t\tsrc=\"/static/images/avatar/1.jpg\"\r\n\t\t\t\tstyle={{ backgroundColor: \"black\" }}\r\n\t\t\t/>\r\n\t\t\t<Avatar\r\n\t\t\t\tclassName=\"post-avatar\"\r\n\t\t\t\talt=\"AUDI\"\r\n\t\t\t\tsrc=\"/static/images/avatar/1.jpg\"\r\n\t\t\t\tstyle={{ backgroundColor: \"Red\" }}\r\n\t\t\t/>\r\n\t\t\t<Avatar\r\n\t\t\t\tclassName=\"post-avatar\"\r\n\t\t\t\talt=\"BMW\"\r\n\t\t\t\tsrc=\"/static/images/avatar/1.jpg\"\r\n\t\t\t\tstyle={{ backgroundColor: \"black\" }}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Stories;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport Stories from \"./Stories\";\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"header-logo\"\r\n\t\t\t\tsrc=\"https://1000logos.net/wp-content/uploads/2017/02/Instagram-Logo.png\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t></img>\r\n\t\t\t<Stories />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import firebase from \"firebase\";\r\nconst firebaseApp = firebase.initializeApp({\r\n\tapiKey: \"AIzaSyD-8wmk1pPwfAwPz3dLzeWFo1JEfU595_w\",\r\n\tauthDomain: \"instagram-app1.firebaseapp.com\",\r\n\tprojectId: \"instagram-app1\",\r\n\tstorageBucket: \"instagram-app1.appspot.com\",\r\n\tmessagingSenderId: \"942022264530\",\r\n\tappId: \"1:942022264530:web:6a3ddc8edc5c4b3c6c0f0b\",\r\n\tmeasurementId: \"G-J12QTQP7J6\",\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db, auth, storage };\r\n\r\n// export default db;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Post.css\";\r\nimport { db } from \"../firebase\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport firebase from \"firebase\";\r\n\r\nfunction Post({ postId, user, username, caption, imageUrl }) {\r\n\tconst [comments, setComments] = useState([]);\r\n\tconst [comment, setComment] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tlet unsubscribe;\r\n\t\tif (postId) {\r\n\t\t\tunsubscribe = db\r\n\t\t\t\t.collection(\"posts\")\r\n\t\t\t\t.doc(postId)\r\n\t\t\t\t.collection(\"comments\")\r\n\t\t\t\t.orderBy(\"timestamp\", \"desc\")\r\n\t\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\t\tsetComments(snapshot.docs.map((doc) => doc.data()));\r\n\t\t\t\t});\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tunsubscribe();\r\n\t\t};\r\n\t}, [postId]);\r\n\r\n\tconst postComment = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tdb.collection(\"posts\").doc(postId).collection(\"comments\").add({\r\n\t\t\ttext: comment,\r\n\t\t\tusername: user.displayName,\r\n\t\t\ttimestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n\t\t});\r\n\t\tsetComment(\"\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"post\">\r\n\t\t\t<div className=\"post-header\">\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tclassName=\"post-avatar\"\r\n\t\t\t\t\talt=\"Super-car\"\r\n\t\t\t\t\tsrc=\"/static/images/avatar/1.jpg\"\r\n\t\t\t\t/>\r\n\t\t\t\t<h3>{username}</h3>\r\n\t\t\t</div>\r\n\t\t\t<img className=\"post-img\" src={imageUrl} alt=\"\"></img>\r\n\t\t\t<h4 className=\"post-text\">\r\n\t\t\t\t<strong>{username} </strong>\r\n\t\t\t\t{caption}\r\n\t\t\t</h4>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t{comments.map((comment) => (\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>{comment.username}</strong>: {comment.text}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t{user && (\r\n\t\t\t\t<form className=\"post-cmtBox\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"post-input\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Add a comment...\"\r\n\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"post-btn\"\r\n\t\t\t\t\t\tdisabled={!comment}\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tonClick={postComment}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPost\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Post;\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { db, storage } from \"../firebase\";\r\nimport firebase from \"firebase\";\r\nimport \"./ImgUpload.css\";\r\n\r\nfunction ImgUpload({ username }) {\r\n\tconst [image, setImage] = useState(null);\r\n\tconst [progress, setProgress] = useState(0);\r\n\tconst [caption, setCaption] = useState(\"\");\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tif (e.target.files[0]) {\r\n\t\t\tsetImage(e.target.files[0]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleUpload = () => {\r\n\t\tconst uploadTask = storage.ref(`image/${image.name}`).put(image);\r\n\t\tuploadTask.on(\r\n\t\t\t\"state_changed\",\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst progress = Math.round(\r\n\t\t\t\t\t(snapshot.bytesTransferred / snapshot.totelBytes) * 100\r\n\t\t\t\t);\r\n\t\t\t\tsetProgress(progress);\r\n\t\t\t},\r\n\t\t\t(error) => {\r\n\t\t\t\t//error function\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\talert(error.message);\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tstorage\r\n\t\t\t\t\t.ref(\"image\")\r\n\t\t\t\t\t.child(image.name)\r\n\t\t\t\t\t.getDownloadURL()\r\n\t\t\t\t\t.then((url) => {\r\n\t\t\t\t\t\tdb.collection(\"posts\").add({\r\n\t\t\t\t\t\t\ttimestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n\t\t\t\t\t\t\tcaption: caption,\r\n\t\t\t\t\t\t\timageUrl: url,\r\n\t\t\t\t\t\t\tusername: username,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetProgress(0);\r\n\t\t\t\t\t\tsetCaption(\"\");\r\n\t\t\t\t\t\tsetImage(null);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"img-upload\">\r\n\t\t\t<progress className=\"imgupload-progress\" value={progress} max=\"100\" />\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"file-input\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"Enter a caption...\"\r\n\t\t\t\tonChange={(event) => setCaption(event.target.value)}\r\n\t\t\t/>\r\n\t\t\t<input className=\"inp\" type=\"file\" onChange={handleChange} />\r\n\t\t\t<Button onClick={handleUpload}>Upload</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default ImgUpload;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Post from \"./components/Post\";\nimport { db, auth } from \"./firebase\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { Button, Input } from \"@material-ui/core\";\nimport ImgUpload from \"./components/ImgUpload\";\n\n// import Stories from \"./components/Stories\";\n\nfunction getModalStyle() {\n\tconst top = 50;\n\tconst left = 50;\n\n\treturn {\n\t\ttop: `${top}%`,\n\t\tleft: `${left}%`,\n\t\ttransform: `translate(-${top}%, -${left}%)`,\n\t};\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tpaper: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 400,\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t\tborder: \"2px solid #000\",\n\t\t\tboxShadow: theme.shadows[5],\n\t\t\tpadding: theme.spacing(2, 4, 3),\n\t\t},\n\t})\n);\n\nfunction App() {\n\tconst classes = useStyles();\n\tconst [modalStyle] = useState(getModalStyle);\n\tconst [posts, setPosts] = useState([]);\n\tconst [open, setOpen] = useState(false);\n\tconst [openSignIn, setOpenSignIn] = useState(false);\n\tconst [username, setUsername] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [user, setUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = auth.onAuthStateChanged((authUser) => {\n\t\t\tif (authUser) {\n\t\t\t\tconsole.log(authUser);\n\t\t\t\tsetUser(authUser);\n\t\t\t} else {\n\t\t\t\tsetUser(null);\n\t\t\t}\n\t\t});\n\t\treturn () => {\n\t\t\tunsubscribe();\n\t\t};\n\t}, [user, username]);\n\n\t//useEffect-> Runs a piece of code based on a specific condition\n\n\tuseEffect(() => {\n\t\t//this is where the code runs\n\t\tdb.collection(\"posts\").onSnapshot((snapshot) => {\n\t\t\t//every time a new post is added , this code fires...\n\t\t\tsetPosts(\n\t\t\t\tsnapshot.docs.map((doc) => ({\n\t\t\t\t\tid: doc.id,\n\t\t\t\t\tpost: doc.data(),\n\t\t\t\t}))\n\t\t\t);\n\t\t});\n\t}, []);\n\n\tconst signUp = (event) => {\n\t\tevent.preventDefault();\n\n\t\tauth\n\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t.then((authUser) => {\n\t\t\t\treturn authUser.user.updateProfile({\n\t\t\t\t\tdisplayName: username,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => alert(error.message));\n\n\t\tsetOpen(false);\n\t};\n\n\tconst signIn = (event) => {\n\t\tevent.preventDefault();\n\n\t\tauth\n\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t.catch((error) => alert(error.message));\n\n\t\tsetOpenSignIn(false);\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<Header />\n\t\t\t<div className=\"applog-btn\">\n\t\t\t\t{user ? (\n\t\t\t\t\t<Button onClick={() => auth.signOut()}>Logout</Button>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"appsign-btns\">\n\t\t\t\t\t\t<Button className=\"sin-btn\" onClick={() => setOpenSignIn(true)}>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button className=\"sout-btn\" onClick={() => setOpen(true)}>\n\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{user?.displayName ? (\n\t\t\t\t<ImgUpload username={user.displayName} />\n\t\t\t) : (\n\t\t\t\t<h3>Sorry you need to login to upload</h3>\n\t\t\t)}\n\n\t\t\t<Modal open={open} onClose={() => setOpen(false)}>\n\t\t\t\t<div style={modalStyle} className={classes.paper}>\n\t\t\t\t\t<form className=\"app-signup\">\n\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"header-logo\"\n\t\t\t\t\t\t\t\tsrc=\"https://1000logos.net/wp-content/uploads/2017/02/Instagram-Logo.png\"\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</center>\n\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"email\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button onClick={signUp}>Sign Up</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t\t<Modal open={openSignIn} onClose={() => setOpenSignIn(false)}>\n\t\t\t\t<div style={modalStyle} className={classes.paper}>\n\t\t\t\t\t<form className=\"app-signup\">\n\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"header-logo\"\n\t\t\t\t\t\t\t\tsrc=\"https://1000logos.net/wp-content/uploads/2017/02/Instagram-Logo.png\"\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</center>\n\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"email\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button onClick={signIn}>Sign In</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t\t{posts.map(({ id, post }) => (\n\t\t\t\t<Post\n\t\t\t\t\tkey={id}\n\t\t\t\t\tpostId={id}\n\t\t\t\t\tuser={user}\n\t\t\t\t\tusername={post.username}\n\t\t\t\t\tcaption={post.caption}\n\t\t\t\t\timageUrl={post.imageUrl}\n\t\t\t\t/>\n\t\t\t))}\n\n\t\t\t<Footer />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}